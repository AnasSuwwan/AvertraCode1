<!DOCTYPE html>
<html>
<head>
	<title>Avertra</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="Avertra.css">
			<script src="https://kit.fontawesome.com/bae9774610.js" crossorigin="anonymous"></script>
			<script src="https://www.amcharts.com/lib/4/core.js"></script>
			<script src="https://www.amcharts.com/lib/4/charts.js"></script>
			<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
			<script src="https://www.amcharts.com/lib/4/themes/kelly.js"></script>
			<script src="https://kit.fontawesome.com/bae9774610.js" crossorigin="anonymous"></script>

		<style type="text/css">
		
		</style>
</head>
<body>
<div class="container-fluid">
	<div class="row">
		
	<nav class="col-12">
		<ul>
			<div class="row">
			<div class="col-sm-5">
				<img src="logo.png">
			</div>		
			<div class="col-sm-5 text-center icon  ">

					<li><i class="icons fas fa-globe gray white ml-5 mr-3 "></i></li>
					<li><i class="icons fas fa-comments gray white mr-3"></i></li>
					<li><i class="icons fas fa-bell gray white "></i> </li>
					<div class="ml-5  ">
					<h5 class="title white "><b>John smith </b></h5>
					<small class="title1 text-secondary "><br>Product Maneger </small>

					</div>


				</div>
				<div class="col-sm-2">
					<i class="fas fa-user-alt  ml-2 rounded-circle white border border-info bg-secondary p-4"></i>

				</div>

			</div>
		</ul>
			
	</nav>
	</div>
	<div class="row">
		<div class="col-md-4">
			<div class="row">
					
				<div class=" col-sm-7 mt-3 leftNav rounded">
				<div class="n1 white mt-2">
					<a href="">
						<p class="white pra ">
						 	<i class="fas fa-chart-bar baro"> Dashboard</i>
						</p>
					</a>	
				</div>
				<div class="n2 white mt-5">
					<a href="">
						<p class="white pra">
							<i class="fas fa-map-marker-alt baro"> Routes preduction statistics</i>
						</p>
					</a>
				</div>
				<div class="n3 white mt-5">
					<a href="">
						<p class="white pra">
							<i class="fas fa-chalkboard baro ">  Courier Tracking</i>
						</p>
					</a>
				</div>

				<div class="n4 white mt-5">
					<a href="">
						<p class="white pra">
							<i class="fas fa-power-off baro"> Sign Out</i>
						</p>
					</a>	
				</div>
		</div>
	
			<div class=" col-sm-5 align-center" >
				 <form >
				<div class="group">      
					<input type="text" required>
					<span class="highlight"></span>
					<span class="bar"></span>
		    	    <label>Name</label>
				</div>      
				<div class="group">      
					<input type="text" required>
					<span class="highlight"></span>
			        <span class="bar"></span>
				    <label>City</label>
				</div>
			    <div class="group">      
			      <input type="text" required>
			      <span class="highlight"></span>
			      <span class="bar"></span>
			      <label>Route</label>
				</div>
			    <div class="group">      
				      <input class="input1" type="text" required>
					  <span class="highlight"></span>
					  <span class="bar1"></span>
				      <label>From <i class="cal fas fa-calendar-week"></i></label>  
				</div>
				<div class="group">      
					      <input class="input1" type="text" required>
					      <span class="highlight1"></span>
					      <span class="bar1"></span>
					      <label>To  <i class="cal1 fas fa-calendar-week"></i></label>	     
				</div>
				<div><button class="button1"><span class="btn">Search</span></button></div>
				<div><button class="button2 white"><span class="btn">Clear</span></button></div>
			  </form>
			</div>
		</div>
			
		</div>

			<div class="col-sm-8">
					<div class="row">
						<div class="col-sm-6">
							<div class="mainChart">
								<div class="barChart ">
									      <div id="chartdiv" ></div>
								</div>
							</div>
						</div>
						<div class=" col-sm-6">
							<div class="PieChart mt-3 ">
								<p >Route 1 Failure Reasons</p>
								<div class="row">
										
									<div class="pie col-sm-6">
											<span id="content1" class="">65%</span>
											<span id="content2" class="white">35%</span>
									</div>		
									 <div class="col-sm-6 ">
								               <pre class="white">Entity 1</pre>
								               <hr>
								               <pre class="white">City1 , City2</pre>
								               <hr>
								               <pre class="white">R1 , R2 , R3</pre>
								               <hr>
								               <pre class="white">January 20 </pre>
								               <hr>
								    </div>	
								</div>
								<div class="sm-pie1 "></div>
											<small class="white">Wrong Predications</small><br>
											<div class="sm-pie2"></div>
											<small class="white">New Instrucions</small>

							</div>
						</div>	
					</div>
					<div class="row ml-3">
						<div class="forTable white ml-2">
					<p class="ml-5">Table of wrong predected AWBs</p>
					<hr>
					<table class="table">
						  <thead class="thead-warning">
						    <tr>
						      <th scope="col">#</th>
						      <th scope="col">First</th>
						      <th scope="col">Last</th>
						      <th scope="col">gender</th>
						    </tr>
						  </thead>
						  <tbody>
						    <tr>
						      <th scope="row">1</th>
						      <td>Anas</td>
						      <td>Suwwan</td>
						      <td>male</td>
						    </tr>
						    <tr>
						      <th scope="row">2</th>
						      <td>ahmad</td>
						      <td>ali</td>
						      <td>male</td>
						    </tr>
						    <tr>
						      <th scope="row">3</th>
						      <td>sara</td>
						      <td> khaled</td>
						      <td>female</td>
						    </tr>
						  </tbody>
						</table>
				</div>

		       </div>
			</div>
		</div>
</div>
<script type="text/javascript">
	am4core.useTheme(am4themes_kelly);
am4core.useTheme(am4themes_animated);
am4core.options.commercialLicense = true;
// Themes end

// Create chart instance
var chart = am4core.create("chartdiv", am4charts.XYChart);

var data=[
  {
    "sector": "R1",
    "success": 70 ,
    "failur": 30
  },
  {
    "sector": "R2",
    "success": 50,
    "failur": 50
  },
  {
    "sector": "R3",
    "success": 20,
    "failur": 80,
    
  }
];

let series=[];
      
// Config Legend
chart.legend = new am4charts.Legend();
chart.legend.position = "right";
chart.legend.valign = "top";
chart.legend.itemContainers.template.paddingTop = 5;
chart.legend.itemContainers.template.paddingBottom = 5;
chart.legend.useDefaultMarker = true;
chart.legend.labels.template.text = "[font-size:10px {color}]{name}[/]";
var markerTemplate = chart.legend.markers.template;
markerTemplate.width = 12;
markerTemplate.height = 12;

// Config scrollbarX
chart.scrollbarX = new am4core.Scrollbar();
chart.scrollbarX.dy = -30;

// Config padding
chart.paddingLeft = 2;
chart.paddingTop = 30;

// Add data chart
chart.data = data;

// Create category axis
var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
categoryAxis.dataFields.category = "sector";
categoryAxis.renderer.grid.template.location = 0;
categoryAxis.renderer.minGridDistance = 15;
categoryAxis.renderer.cellStartLocation = 0.1;
categoryAxis.renderer.cellEndLocation = 0.9;

// Config value axis
var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
valueAxis.renderer.inside = false;
valueAxis.renderer.labels.template.disabled = false;
valueAxis.extraMax = 0;
valueAxis.strictMinMax = false;
      
series = reduceSeries(data); 

series.forEach((v) => {
  if(v !== 'sector'){
    createSeries(v, v);
  }
});

// Config label calculateTotals
var totalBullet = totalSeries.bullets.push(new am4charts.LabelBullet());
totalBullet.dy = -20;
totalBullet.label.text = "{valueY.total}";
totalBullet.label.hideOversized = false;
totalBullet.label.fontSize = 11;
totalBullet.label.background.fill = totalSeries.stroke;
totalBullet.label.dy = -10;
totalBullet.label.background.fillOpacity = 0.2;
totalBullet.label.padding(5, 0, 5, 0);
totalBullet.label.truncate = false;


// Create series
function createSeries(field, name) {
  // Set up series
  let series = chart.series.push(new am4charts.ColumnSeries());

  series.name = name;
  series.dataFields.valueY = field;
  series.dataFields.categoryX = "sector";
  series.sequencedInterpolation = true;

  // Make it stacked
  series.stacked = true;

  // Configure columns
  series.columns.template.width = am4core.percent(95);
  series.columns.template.tooltipText = "[bold]{name}[/]\n[font-size:14px]{categoryX}: {valueY} %"; 

  // Add label Bullet
  let labelBullet = series.bullets.push(new am4charts.LabelBullet());
  labelBullet.label.text = "{valueY}";
  labelBullet.label.fill = am4core.color("#fff");
  labelBullet.label.fontSize = 11;
  labelBullet.label.dy = 0;
  labelBullet.label.hideOversized = true;
  labelBullet.locationY = 0.5;

  return series;
}

// Add legend
chart.legend = new am4charts.Legend();


/*
* Objenemos los nombres Ãºnicos para generar series
*/
function reduceSeries(x) {
  let a = x.reduce(function (res, obj) {
    let keys = Object.keys(obj);
    keys.forEach(item => {
      if (!(item in res)) {
        res.__array.push(res[item] = item);
      }
    });

    return res;
  }, { __array: [] }).__array;

  return a;
}
</script>
</body>
</html>